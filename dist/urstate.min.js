!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";module.exports=function(state,onSet){var ur,now={};onSet=onSet||function(){},state={root:state},ur={undo:function(){return moveto(now.back)},redo:function(){return moveto(now.forward)},can:{undo:function(){return!!now.back},redo:function(){return!!now.forward}}};return function $(path){path=["root"].concat(function(path){return"string"==typeof(path=path||[])?path.split(/\.|\[|\]/).filter(function(i){return""!==i}):path.slice()}(path));var $$={save:function(){return now.path=path.slice(),now.fragment=this.get(),now.forward={back:now},now=now.forward,this},get:function(){return function deepcopy(obj){switch(function(obj){return{}.toString.call(obj).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}(obj)){case"array":return obj.map(function(v){return deepcopy(v)});case"object":return Object.keys(obj).reduce(function(d,k){return d[k]=deepcopy(obj[k]),d},{});default:return obj}}(getfragment(state,path))},set:function(v){return setfragment(state,path,v),onSet(path),this},merge:function(v){return Object.assign(getfragment(state,path),v),onSet(path),this}};return Object.assign($,ur),Object.assign($$,ur),$$};function moveto(node){node&&(now.path=node.path,now.fragment=getfragment(state,node.path),setfragment(state,node.path,node.fragment),delete node.path,delete node.fragment,now=node)}function getfragment(state,path){return path.reduce(function(s,step){return s[step]},state)}function setfragment(state,path,value){getfragment(state,path.slice(0,-1))[path.slice(-1)[0]]=value}}},{}]},{},[1]);