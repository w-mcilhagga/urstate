!function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n||e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"use strict";var _require=require("./utils.js"),deepcopy=_require.deepcopy,copy=_require.copy,getfragment=_require.getfragment,setfragment=_require.setfragment,parsepath=_require.parsepath;module.exports=function(state){var now={};return{save:function(path){return now.path=parsepath(path),now.fragment=deepcopy(getfragment(state,now.path)),now.forward={back:now},now=now.forward,this},undo:function(){return moveto(now.back)},redo:function(){return moveto(now.forward)},can:{undo:function(){return!!now.back},redo:function(){return!!now.forward}}};function moveto(node){node&&(now.path=node.path,now.fragment=copy(getfragment(state,node.path)),setfragment(state,node.path,node.fragment),delete node.path,delete node.fragment,now=node)}}},{"./utils.js":2}],2:[function(require,module,exports){"use strict";function getfragment(state,path){return path.reduce(function(s,step){return s[step]},state)}function toType(obj){return{}.toString.call(obj).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}module.exports={deepcopy:function deepcopy(obj){switch(toType(obj)){case"array":return obj.map(function(v){return deepcopy(v)});case"object":return Object.keys(obj).reduce(function(d,k){return d[k]=deepcopy(obj[k]),d},{});default:return obj}},copy:function(obj){switch(toType(obj)){case"array":return obj.slice();case"object":return Object.assign({},obj);default:return obj}},setfragment:function(state,path,value){0==path.length?Object.assign((obj=state,Object.keys(obj).forEach(function(k){return delete obj[k]}),obj),value):getfragment(state,path.slice(0,-1))[path.slice(-1)[0]]=value;var obj},getfragment:getfragment,parsepath:function(path){return"string"==typeof(path=path||[])?path.split(/\.|\[|\]/).filter(function(i){return""!==i}):path.slice()}}},{}]},{},[1]);